<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Клиенти</title>
    <link rel="stylesheet" href="admin.css">
    <link rel="icon" href="Images/icon-inverted.png" type="image/jpeg">
    <link href="https://fonts.googleapis.com/css2?family=Lora:wght@400;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  </head>
<body>
  <header>
    <div class="container">
      <div class="navigation-layout">
        <nav class="navbar">
          <ul class="nav-menu">
            <li class="nav-item">
              <a class="nav-link hover-underline" href="clients.html">Клиенти</a>
            </li>
          </ul>
        </nav>
            <img src="Images/icon-inverted.png" alt="Pilates Reformer Studio by Dilona Logo" onclick="window.location.href = 'admin.html'" class="logo"></img>
        <nav class="navbar">
          <ul class="nav-menu">
            <li class="nav-item">
              <a class="nav-link hover-underline" href="subscriptions.html">Абонаменти</a>
            </li>
          </ul>
        </nav>
      </div>
    </div>
  </header>

    <div class="title">
      <h1>Клиенти</h1>
    </div>

<section class="admin-control">
  <div class="container">
    <div class="clients-grid">
      <div class="client-list">
        <div class="mobile-only">
          <button class="showhide">||</button>
          <div class="container">
            <h2>Твоите клиенти</h2>
            <div class="table-container">
                <table id="clientsTable">
                    <tr>
                        <th>А - Я</th>
                    </tr>
                </table>
                <div class="pagination" id="clientsPagination"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="client-page">
        <div class="topClients">
            <p class="no-data-message">Топ 3 клиенти</p>
            <!-- d3.js visualization -->
             <!-- Default: Топ 3 клиенти по брой посещения. -->
        </div>
        <!-- Active: при избиране на клиент от левия списък се появява страница на клиента с неговата информация с бутон за редакция-->
        <!-- отдясно се покават всичките заявки на клиента -->
        <div class="clientInfo" style="display: none;">
          <span class="close-client-info">&times;</span>

          <div class="client-info-content">
            <h3 id="clientName"></h3>

            <div class="info-section">
                <h4>Лична информация</h4>
                <div class="info-item">
                    <label>Телефон:</label>
                    <a id="clientPhone" href="tel:" class="phone-link"></a>
                </div>
                <div class="info-item">
                    <label>Имейл:</label>
                    <a id="clientEmail" href="mailto:" class="phone-link"></a>
                </div>
                <div class="info-item">
                    <label>Регистриран:</label>
                    <span id="clientCreated"></span>
                </div>
            </div>
          
            <div class="info-section" id="mailingListSection" style="display: none;">
                <h4>Имейл абонамент</h4>
                <div class="info-item">
                    <label>Дата на абонамент:</label>
                    <span id="mailingListDate"></span>
                </div>
            </div>
          
            <div class="info-section" id="cardSection" style="display: none;">
                <h4>Абонаментни карти</h4>
                <div id="clientCards">
                    <!-- Client cards will be populated here -->
                </div>
            </div>
          
            <button class="edit-client-btn" id="editClientBtn">Редактирай</button>
          </div>
        </div>
      </div>

      <div class="analytics-dashboard">
        <p class="no-data-message">dashboard за анализи / информация за заявката</h2>
        <!-- dashboard където показва по месеци (избираемо) нови клиенти / нови заявки -->
      </div>

      <div class="bookings-history">
        <h2>История на заявки</h2>
          <div class="history-filters">
            <div class="by-date">
              <div class="date-from">
                <small>От:</small>
                  <input type="date" id="startDate">
              </div>
              <div class="date-to">
                <small>До:</small>
                  <input type="date" id="endDate">
                <span class="clear-filter" id="clearFilters">&times;</span>
              </div>
            </div>
            <div class="by-status">
              <button class="slot pending">Чакащи</button>
              <button class="slot available">Одобрени</button>
              <button class="slot rejected">Отказани</button>
              <button class="slot canceled">Отменени</button>
            </div>
          </div>
        <div class="table-container">
            <table id="bookingHistoryTable">
              <th>Клиент</th>
              <th>Тип</th>
              <th>Дата</th>
              <th>Час</th>
              <th>Заявена на</th>
            </table>
            <div class="pagination" id="historyPagination"></div>
        </div>
      </div>
    </div>

    <div class="container">
      <div class="website-signature">
        <p>Website by <a href="https://www.vasilapostolov.tech/" class="links hover-underline">VA</a></p>
        <i class="fab fa-github"></i>
      </div>
    </div>
  </div>
</section>

  <script src="admin.js"></script>
</body>
</html>